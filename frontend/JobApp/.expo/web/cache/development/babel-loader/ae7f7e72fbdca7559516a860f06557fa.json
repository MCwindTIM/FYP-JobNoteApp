{"ast":null,"code":"import React, { useEffect, useLayoutEffect } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport ToastAndroid from \"react-native-web/dist/exports/ToastAndroid\";\nimport NotesFlatList from \"../util/FlatListNotes\";\nimport Ionicons from \"@expo/vector-icons/Ionicons\";\nimport { AuthContext } from \"../../components/context\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default function NotesListScreen(_ref) {\n  var navigation = _ref.navigation;\n\n  var _React$useContext = React.useContext(AuthContext),\n      getJobRedirect = _React$useContext.getJobRedirect,\n      getAPIServiceURL = _React$useContext.getAPIServiceURL,\n      getUserToken = _React$useContext.getUserToken;\n\n  var UserToken = getUserToken();\n  var APIServiceURL = getAPIServiceURL();\n\n  var _getJobRedirect = getJobRedirect(),\n      Forward = _getJobRedirect.Forward,\n      Job = _getJobRedirect.Job;\n\n  if (Forward) {\n    fetch(APIServiceURL + \"/getNote\", {\n      headers: {\n        usertoken: UserToken,\n        job_id: Job._id\n      }\n    }).then(function (response) {\n      if (response.status === 200) {\n        response.json().then(function (json) {\n          if (json.success) {\n            navigation.navigate(\"Note Details\", {\n              Job: Job,\n              Note: json.data\n            });\n          } else {\n            navigation.navigate(\"Create Note\", {\n              Job: Job\n            });\n          }\n        });\n      } else {\n        ToastAndroid.show(\"Server currently not available\");\n      }\n    });\n  }\n\n  useLayoutEffect(function () {\n    navigation.setOptions({\n      headerRight: function headerRight() {\n        return _jsx(AddNotesIconButton, {\n          navigation: navigation\n        });\n      },\n      headerLeft: function headerLeft() {\n        return _jsx(Ionicons, {\n          name: \"ios-menu\",\n          size: 30,\n          onPress: function onPress() {\n            navigation.openDrawer();\n          }\n        });\n      }\n    });\n  }, [navigation]);\n  useEffect(function () {});\n  return _jsx(NotesFlatList, {\n    navigation: navigation\n  });\n}\n\nvar AddNotesIconButton = function AddNotesIconButton(_ref2) {\n  var navigation = _ref2.navigation;\n  return _jsx(Ionicons, {\n    name: \"add\",\n    size: 35,\n    onPress: function onPress() {\n      navigation.navigate(\"Create Note\");\n    }\n  });\n};","map":{"version":3,"sources":["D:/VTC files/Github/Assignment/fyp/ReactNative/JobApp/navigation/screens/NotesListScreen.js"],"names":["React","useEffect","useLayoutEffect","NotesFlatList","Ionicons","AuthContext","NotesListScreen","navigation","useContext","getJobRedirect","getAPIServiceURL","getUserToken","UserToken","APIServiceURL","Forward","Job","fetch","headers","usertoken","job_id","_id","then","response","status","json","success","navigate","Note","data","ToastAndroid","show","setOptions","headerRight","headerLeft","openDrawer","AddNotesIconButton"],"mappings":"AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,eAA3B,QAAkD,OAAlD;;;;AAGA,OAAOC,aAAP;AACA,OAAOC,QAAP;AACA,SAASC,WAAT;;AAEA,eAAe,SAASC,eAAT,OAAyC;AAAA,MAAdC,UAAc,QAAdA,UAAc;;AACpD,0BACIP,KAAK,CAACQ,UAAN,CAAiBH,WAAjB,CADJ;AAAA,MAAQI,cAAR,qBAAQA,cAAR;AAAA,MAAwBC,gBAAxB,qBAAwBA,gBAAxB;AAAA,MAA0CC,YAA1C,qBAA0CA,YAA1C;;AAEA,MAAMC,SAAS,GAAGD,YAAY,EAA9B;AACA,MAAME,aAAa,GAAGH,gBAAgB,EAAtC;;AACA,wBAAyBD,cAAc,EAAvC;AAAA,MAAQK,OAAR,mBAAQA,OAAR;AAAA,MAAiBC,GAAjB,mBAAiBA,GAAjB;;AACA,MAAID,OAAJ,EAAa;AACTE,IAAAA,KAAK,CAAIH,aAAJ,eAA6B;AAC9BI,MAAAA,OAAO,EAAE;AACLC,QAAAA,SAAS,EAAEN,SADN;AAELO,QAAAA,MAAM,EAAEJ,GAAG,CAACK;AAFP;AADqB,KAA7B,CAAL,CAKGC,IALH,CAKQ,UAACC,QAAD,EAAc;AAClB,UAAIA,QAAQ,CAACC,MAAT,KAAoB,GAAxB,EAA6B;AACzBD,QAAAA,QAAQ,CAACE,IAAT,GAAgBH,IAAhB,CAAqB,UAACG,IAAD,EAAU;AAC3B,cAAIA,IAAI,CAACC,OAAT,EAAkB;AACdlB,YAAAA,UAAU,CAACmB,QAAX,CAAoB,cAApB,EAAoC;AAChCX,cAAAA,GAAG,EAAEA,GAD2B;AAEhCY,cAAAA,IAAI,EAAEH,IAAI,CAACI;AAFqB,aAApC;AAIH,WALD,MAKO;AACHrB,YAAAA,UAAU,CAACmB,QAAX,CAAoB,aAApB,EAAmC;AAAEX,cAAAA,GAAG,EAAEA;AAAP,aAAnC;AACH;AACJ,SATD;AAUH,OAXD,MAWO;AACHc,QAAAA,YAAY,CAACC,IAAb,CAAkB,gCAAlB;AACH;AACJ,KApBD;AAqBH;;AAED5B,EAAAA,eAAe,CAAC,YAAM;AAClBK,IAAAA,UAAU,CAACwB,UAAX,CAAsB;AAClBC,MAAAA,WAAW,EAAE;AAAA,eAAM,KAAC,kBAAD;AAAoB,UAAA,UAAU,EAAEzB;AAAhC,UAAN;AAAA,OADK;AAElB0B,MAAAA,UAAU,EAAE;AAAA,eACR,KAAC,QAAD;AACI,UAAA,IAAI,EAAC,UADT;AAEI,UAAA,IAAI,EAAE,EAFV;AAGI,UAAA,OAAO,EAAE,mBAAM;AACX1B,YAAAA,UAAU,CAAC2B,UAAX;AACH;AALL,UADQ;AAAA;AAFM,KAAtB;AAYH,GAbc,EAaZ,CAAC3B,UAAD,CAbY,CAAf;AAeAN,EAAAA,SAAS,CAAC,YAAM,CAAE,CAAT,CAAT;AAEA,SAAO,KAAC,aAAD;AAAe,IAAA,UAAU,EAAEM;AAA3B,IAAP;AACH;;AAED,IAAM4B,kBAAkB,GAAG,SAArBA,kBAAqB,QAAoB;AAAA,MAAjB5B,UAAiB,SAAjBA,UAAiB;AAC3C,SACI,KAAC,QAAD;AACI,IAAA,IAAI,EAAC,KADT;AAEI,IAAA,IAAI,EAAE,EAFV;AAGI,IAAA,OAAO,EAAE,mBAAM;AACXA,MAAAA,UAAU,CAACmB,QAAX,CAAoB,aAApB;AACH;AALL,IADJ;AASH,CAVD","sourcesContent":["import React, { useEffect, useLayoutEffect } from \"react\";\r\nimport { View, Text, ToastAndroid } from \"react-native\";\r\n\r\nimport NotesFlatList from \"../util/FlatListNotes\";\r\nimport Ionicons from \"react-native-vector-icons/Ionicons\";\r\nimport { AuthContext } from \"../../components/context\";\r\n\r\nexport default function NotesListScreen({ navigation }) {\r\n    const { getJobRedirect, getAPIServiceURL, getUserToken } =\r\n        React.useContext(AuthContext);\r\n    const UserToken = getUserToken();\r\n    const APIServiceURL = getAPIServiceURL();\r\n    const { Forward, Job } = getJobRedirect();\r\n    if (Forward) {\r\n        fetch(`${APIServiceURL}/getNote`, {\r\n            headers: {\r\n                usertoken: UserToken,\r\n                job_id: Job._id,\r\n            },\r\n        }).then((response) => {\r\n            if (response.status === 200) {\r\n                response.json().then((json) => {\r\n                    if (json.success) {\r\n                        navigation.navigate(\"Note Details\", {\r\n                            Job: Job,\r\n                            Note: json.data,\r\n                        });\r\n                    } else {\r\n                        navigation.navigate(\"Create Note\", { Job: Job });\r\n                    }\r\n                });\r\n            } else {\r\n                ToastAndroid.show(\"Server currently not available\");\r\n            }\r\n        });\r\n    }\r\n\r\n    useLayoutEffect(() => {\r\n        navigation.setOptions({\r\n            headerRight: () => <AddNotesIconButton navigation={navigation} />,\r\n            headerLeft: () => (\r\n                <Ionicons\r\n                    name=\"ios-menu\"\r\n                    size={30}\r\n                    onPress={() => {\r\n                        navigation.openDrawer();\r\n                    }}\r\n                />\r\n            ),\r\n        });\r\n    }, [navigation]);\r\n\r\n    useEffect(() => {});\r\n\r\n    return <NotesFlatList navigation={navigation} />;\r\n}\r\n\r\nconst AddNotesIconButton = ({ navigation }) => {\r\n    return (\r\n        <Ionicons\r\n            name=\"add\"\r\n            size={35}\r\n            onPress={() => {\r\n                navigation.navigate(\"Create Note\");\r\n            }}\r\n        />\r\n    );\r\n};\r\n"]},"metadata":{},"sourceType":"module"}