{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport * as React from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport Linking from \"react-native-web/dist/exports/Linking\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Pressable from \"react-native-web/dist/exports/Pressable\";\nimport ToastAndroid from \"react-native-web/dist/exports/ToastAndroid\";\nimport { useEffect, useState } from \"react\";\nimport { useNavigation } from \"@react-navigation/native\";\nimport Ionicons from \"@expo/vector-icons/Ionicons\";\nimport { AuthContext } from \"../../components/context\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nexport default function JobDetails(item) {\n  var navigation = useNavigation();\n\n  var _React$useContext = React.useContext(AuthContext),\n      getUserToken = _React$useContext.getUserToken,\n      getUserData = _React$useContext.getUserData,\n      getAPIServiceURL = _React$useContext.getAPIServiceURL,\n      setJob = _React$useContext.setJob;\n\n  var UserToken = getUserToken();\n  var UserData = getUserData();\n  var APIServiceURL = getAPIServiceURL();\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      showDelButton = _useState2[0],\n      setShowDelButton = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      followingCurrentJob = _useState4[0],\n      setFollowingCurrentJob = _useState4[1];\n\n  var fetching = false;\n  var job = item.route.params;\n\n  var FollowingJob = function FollowingJob() {\n    if (fetching) {\n      return;\n    }\n\n    fetching = true;\n\n    if (followingCurrentJob) {\n      fetch(APIServiceURL + \"/unfollowJob\", {\n        headers: {\n          user_id: UserData._id,\n          job_id: job._id\n        }\n      }).then(function (response) {\n        if (response.status === 200) {\n          response.json().then(function (json) {\n            if (json.success) {\n              setFollowingCurrentJob(false);\n              ToastAndroid.show(\"Unfollowed!\", ToastAndroid.SHORT);\n            } else {\n              console.log(\"failed!\");\n            }\n          });\n        }\n      }).finally(function () {\n        fetching = false;\n      });\n    } else {\n      fetching = true;\n      fetch(APIServiceURL + \"/followJob\", {\n        headers: {\n          user_id: UserData._id,\n          job_id: job._id\n        }\n      }).then(function (response) {\n        if (response.status === 200) {\n          response.json().then(function (json) {\n            if (json.success) {\n              setFollowingCurrentJob(true);\n              ToastAndroid.show(\"Followed!\", ToastAndroid.SHORT);\n            } else {\n              console.log(\"failed!\");\n            }\n          });\n        }\n      }).finally(function () {\n        fetching = false;\n      });\n    }\n  };\n\n  var checkFollowing = function checkFollowing() {\n    return _regeneratorRuntime.async(function checkFollowing$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            fetching = true;\n            fetch(APIServiceURL + \"/checkFollowing\", {\n              headers: {\n                user_id: UserData._id,\n                job_id: job._id\n              }\n            }).then(function (response) {\n              if (response.status === 200) {\n                response.json().then(function (json) {\n                  if (json.success) {\n                    setFollowingCurrentJob(true);\n                  } else {\n                    setFollowingCurrentJob(false);\n                  }\n                });\n              } else {\n                setFollowingCurrentJob(false);\n              }\n            }).finally(function () {\n              fetching = false;\n            });\n\n          case 2:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  useEffect(function _callee() {\n    var User;\n    return _regeneratorRuntime.async(function _callee$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return _regeneratorRuntime.awrap(JobAuthor(UserToken));\n\n          case 2:\n            User = _context2.sent;\n\n            if (User === job.Author) {\n              setShowDelButton(true);\n            }\n\n            checkFollowing();\n            navigation.setOptions({\n              title: decodeURIComponent(decodeURIComponent(job.Title)),\n              headerRight: function headerRight() {\n                return _jsx(FollowingIconButton, {\n                  navigation: navigation\n                });\n              }\n            });\n\n          case 6:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  });\n\n  var getJobAuthorEmailByAuthorID = function getJobAuthorEmailByAuthorID(author_id) {\n    return _regeneratorRuntime.async(function getJobAuthorEmailByAuthorID$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            return _context3.abrupt(\"return\", new Promise(function (resolve, reject) {\n              fetch(APIServiceURL + \"/getJobAuthorEmail\", {\n                headers: {\n                  author_id: author_id\n                }\n              }).then(function (response) {\n                if (response.status === 200) {\n                  response.json().then(function (json) {\n                    if (json.success) {\n                      resolve(json.email);\n                    } else {\n                      reject(json.success);\n                    }\n                  });\n                } else {\n                  reject(false);\n                }\n              });\n            }));\n\n          case 1:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var FollowingIconButton = function FollowingIconButton(_ref) {\n    var navigation = _ref.navigation;\n\n    if (followingCurrentJob) {\n      return _jsx(Ionicons, {\n        name: \"star\",\n        size: 35,\n        onPress: function onPress() {\n          FollowingJob();\n        }\n      });\n    } else {\n      return _jsx(Ionicons, {\n        name: \"star-outline\",\n        size: 35,\n        onPress: function onPress() {\n          FollowingJob();\n        }\n      });\n    }\n  };\n\n  var confirmPopUp = function confirmPopUp() {\n    Alert.alert(\"Deleting Job\", \"Are you sure?\", [{\n      text: \"Cancel\"\n    }, {\n      text: \"I'm sure\",\n      onPress: function onPress() {\n        deleteJob();\n      }\n    }]);\n  };\n\n  var deleteJob = function deleteJob() {\n    fetch(APIServiceURL + \"/deleteJob\", {\n      headers: {\n        jobid: job._id\n      }\n    }).then(function (response) {\n      if (response.status === 200) {\n        response.json().then(function (json) {\n          if (json.success) {\n            ToastAndroid.show(\"Delete Success!\", ToastAndroid.SHORT);\n            navigation.navigate(\"JobList\");\n          } else {\n            ToastAndroid.show(\"Delete Failed!\", ToastAndroid.SHORT);\n          }\n        });\n      } else {\n        ToastAndroid.show(\"Delete Failed!\", ToastAndroid.SHORT);\n      }\n    });\n  };\n\n  var JobAuthor = function JobAuthor(UserToken) {\n    return _regeneratorRuntime.async(function JobAuthor$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            return _context4.abrupt(\"return\", new Promise(function (resolve, reject) {\n              fetch(APIServiceURL + \"/getUser\", {\n                headers: {\n                  usertoken: UserToken\n                }\n              }).then(function (response) {\n                if (response.status === 200) {\n                  response.json().then(function (json) {\n                    if (json.success) {\n                      resolve(json.data.username);\n                    } else {\n                      reject(json.success);\n                    }\n                  });\n                } else {\n                  reject(false);\n                }\n              });\n            }));\n\n          case 1:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var createNewChatRoom = function createNewChatRoom(targetId) {\n    fetch(APIServiceURL + \"/createNewChatRoom\", {\n      headers: {\n        user_id: UserData._id,\n        target_id: targetId\n      }\n    }).then(function (response) {\n      if (response.status === 200) {\n        response.json().then(function (json) {\n          if (json.success) {\n            console.log(json.insertedId);\n            enterChat(json.insertedId);\n          } else {\n            var _json$data;\n\n            if ((_json$data = json.data) != null && _json$data._id) {\n              enterChat(json.data._id);\n            } else {\n              ToastAndroid.show(\"Error!\", ToastAndroid.SHORT);\n            }\n          }\n        });\n      } else {\n        ToastAndroid.show(\"Create Chat Failed!\", ToastAndroid.SHORT);\n      }\n    });\n  };\n\n  var enterChat = function enterChat(chatRoomID) {\n    window.CustomVar_forwardChatRoomID = chatRoomID;\n    navigation.navigate(\"Chat\");\n  };\n\n  return _jsx(View, {\n    style: {\n      backgroundColor: \"#FFFFFF\",\n      height: \"100%\"\n    },\n    children: _jsx(SafeAreaView, {\n      children: _jsxs(ScrollView, {\n        style: {\n          backgroundColor: \"transparent\"\n        },\n        children: [_jsx(Text, {\n          style: {\n            fontSize: 20,\n            fontWeight: \"bold\",\n            textAlign: \"center\"\n          },\n          children: \"\" + decodeURIComponent(job.Title)\n        }), _jsx(Text, {\n          style: {\n            fontSize: 16,\n            fontWeight: \"bold\",\n            textAlign: \"center\"\n          },\n          children: \"Job Provider: \" + decodeURIComponent(job.Author)\n        }), _jsxs(View, {\n          style: {\n            flexDirection: \"row\",\n            alignItems: \"center\"\n          },\n          children: [_jsx(View, {\n            style: {\n              flex: 1,\n              height: 1,\n              backgroundColor: \"black\"\n            }\n          }), _jsx(View, {\n            children: _jsx(Text, {\n              style: {\n                width: 50,\n                textAlign: \"center\"\n              },\n              children: \"Details\"\n            })\n          }), _jsx(View, {\n            style: {\n              flex: 1,\n              height: 1,\n              backgroundColor: \"black\"\n            }\n          })]\n        }), _jsx(Text, {\n          style: {\n            fontSize: 26,\n            fontWeight: \"bold\"\n          },\n          children: \"\" + decodeURIComponent(job.Details)\n        }), _jsxs(View, {\n          style: {\n            flexDirection: \"row\",\n            alignItems: \"center\"\n          },\n          children: [_jsx(View, {\n            style: {\n              flex: 1,\n              height: 1,\n              backgroundColor: \"black\"\n            }\n          }), _jsx(View, {\n            children: _jsx(Text, {\n              style: {\n                width: 90,\n                textAlign: \"center\"\n              },\n              children: \"Control Panel\"\n            })\n          }), _jsx(View, {\n            style: {\n              flex: 1,\n              height: 1,\n              backgroundColor: \"black\"\n            }\n          })]\n        }), _jsxs(View, {\n          style: styles.buttonView,\n          children: [showDelButton ? _jsx(Pressable, {\n            style: styles.delButton,\n            onPress: function onPress() {\n              confirmPopUp();\n            },\n            children: _jsx(Text, {\n              style: styles.buttonText,\n              children: \"\\uD83D\\uDDD1\\uFE0F\"\n            })\n          }) : _jsxs(_Fragment, {\n            children: [_jsx(Pressable, {\n              onPress: function _callee2() {\n                return _regeneratorRuntime.async(function _callee2$(_context5) {\n                  while (1) {\n                    switch (_context5.prev = _context5.next) {\n                      case 0:\n                        createNewChatRoom(job.AuthorID);\n\n                      case 1:\n                      case \"end\":\n                        return _context5.stop();\n                    }\n                  }\n                }, null, null, null, Promise);\n              },\n              style: styles.chatButton,\n              children: _jsx(Text, {\n                style: styles.buttonText,\n                children: \"\\uD83D\\uDCAC\"\n              })\n            }), _jsx(Pressable, {\n              onPress: function _callee3() {\n                return _regeneratorRuntime.async(function _callee3$(_context6) {\n                  while (1) {\n                    switch (_context6.prev = _context6.next) {\n                      case 0:\n                        _context6.t0 = Linking;\n                        _context6.next = 3;\n                        return _regeneratorRuntime.awrap(getJobAuthorEmailByAuthorID(job.AuthorID));\n\n                      case 3:\n                        _context6.t1 = _context6.sent;\n                        _context6.t2 = \"mailto:\" + _context6.t1;\n                        return _context6.abrupt(\"return\", _context6.t0.openURL.call(_context6.t0, _context6.t2));\n\n                      case 6:\n                      case \"end\":\n                        return _context6.stop();\n                    }\n                  }\n                }, null, null, null, Promise);\n              },\n              style: styles.emailButton,\n              children: _jsx(Text, {\n                style: styles.buttonText,\n                children: \"\\uD83D\\uDCEE\"\n              })\n            })]\n          }), _jsx(Pressable, {\n            onPress: function onPress() {\n              setJob(true, job);\n              navigation.navigate(\"NotesList\");\n            },\n            style: styles.forwardsButton,\n            children: _jsx(Text, {\n              style: styles.buttonText,\n              children: \"Forward To Notes\"\n            })\n          })]\n        })]\n      })\n    })\n  });\n}\nvar styles = StyleSheet.create({\n  center: {\n    flex: 1,\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  },\n  button: {\n    margin: 5,\n    padding: 10,\n    paddingLeft: 20,\n    paddingRight: 20,\n    backgroundColor: \"#406E9F\",\n    borderRadius: 15,\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  },\n  buttonText: {\n    color: \"#fff\",\n    fontSize: 15,\n    fontWeight: \"bold\"\n  },\n  delButton: {\n    margin: 1,\n    padding: 10,\n    paddingLeft: 20,\n    paddingRight: 20,\n    backgroundColor: \"red\",\n    borderRadius: 15,\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  },\n  forwardsButton: {\n    margin: 5,\n    padding: 10,\n    paddingLeft: 20,\n    paddingRight: 20,\n    backgroundColor: \"green\",\n    borderRadius: 15,\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  },\n  emailButton: {\n    margin: 5,\n    padding: 10,\n    paddingLeft: 20,\n    paddingRight: 20,\n    backgroundColor: \"purple\",\n    borderRadius: 15,\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  },\n  chatButton: {\n    margin: 5,\n    padding: 10,\n    paddingLeft: 20,\n    paddingRight: 20,\n    backgroundColor: \"#2B68E6\",\n    borderRadius: 15,\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  },\n  buttonView: {\n    flexDirection: \"row\",\n    justifyContent: \"space-around\",\n    alignItems: \"center\",\n    marginTop: 20\n  }\n});","map":{"version":3,"sources":["D:/VTC files/Github/Assignment/fyp/ReactNative/JobApp/navigation/screens/JobDetails.js"],"names":["React","useEffect","useState","useNavigation","Ionicons","AuthContext","JobDetails","item","navigation","useContext","getUserToken","getUserData","getAPIServiceURL","setJob","UserToken","UserData","APIServiceURL","showDelButton","setShowDelButton","followingCurrentJob","setFollowingCurrentJob","fetching","job","route","params","FollowingJob","fetch","headers","user_id","_id","job_id","then","response","status","json","success","ToastAndroid","show","SHORT","console","log","finally","checkFollowing","JobAuthor","User","Author","setOptions","title","decodeURIComponent","Title","headerRight","getJobAuthorEmailByAuthorID","author_id","Promise","resolve","reject","email","FollowingIconButton","confirmPopUp","Alert","alert","text","onPress","deleteJob","jobid","navigate","usertoken","data","username","createNewChatRoom","targetId","target_id","insertedId","enterChat","chatRoomID","window","CustomVar_forwardChatRoomID","backgroundColor","height","fontSize","fontWeight","textAlign","flexDirection","alignItems","flex","width","Details","styles","buttonView","delButton","buttonText","AuthorID","chatButton","Linking","openURL","emailButton","forwardsButton","StyleSheet","create","center","justifyContent","button","margin","padding","paddingLeft","paddingRight","borderRadius","color","marginTop"],"mappings":"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","sourcesContent":["import * as React from \"react\";\r\nimport {\r\n    View,\r\n    Text,\r\n    StyleSheet,\r\n    Button,\r\n    Alert,\r\n    Linking,\r\n    SafeAreaView,\r\n    ScrollView,\r\n    Pressable,\r\n    ToastAndroid,\r\n} from \"react-native\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useNavigation } from \"@react-navigation/native\";\r\nimport Ionicons from \"react-native-vector-icons/Ionicons\";\r\n\r\nimport { AuthContext } from \"../../components/context\";\r\n\r\nexport default function JobDetails(item) {\r\n    const navigation = useNavigation();\r\n    const { getUserToken, getUserData, getAPIServiceURL, setJob } =\r\n        React.useContext(AuthContext);\r\n    const UserToken = getUserToken();\r\n    const UserData = getUserData();\r\n    const APIServiceURL = getAPIServiceURL();\r\n    const [showDelButton, setShowDelButton] = useState(false);\r\n    const [followingCurrentJob, setFollowingCurrentJob] = useState(false);\r\n    let fetching = false;\r\n    var job = item.route.params;\r\n\r\n    const FollowingJob = () => {\r\n        if (fetching) {\r\n            return;\r\n        }\r\n        fetching = true;\r\n        if (followingCurrentJob) {\r\n            fetch(`${APIServiceURL}/unfollowJob`, {\r\n                headers: {\r\n                    user_id: UserData._id,\r\n                    job_id: job._id,\r\n                },\r\n            })\r\n                .then((response) => {\r\n                    if (response.status === 200) {\r\n                        response.json().then((json) => {\r\n                            if (json.success) {\r\n                                setFollowingCurrentJob(false);\r\n                                ToastAndroid.show(\r\n                                    \"Unfollowed!\",\r\n                                    ToastAndroid.SHORT\r\n                                );\r\n                            } else {\r\n                                console.log(\"failed!\");\r\n                            }\r\n                        });\r\n                    }\r\n                })\r\n                .finally(() => {\r\n                    fetching = false;\r\n                });\r\n        } else {\r\n            fetching = true;\r\n            fetch(`${APIServiceURL}/followJob`, {\r\n                headers: {\r\n                    user_id: UserData._id,\r\n                    job_id: job._id,\r\n                },\r\n            })\r\n                .then((response) => {\r\n                    if (response.status === 200) {\r\n                        response.json().then((json) => {\r\n                            if (json.success) {\r\n                                setFollowingCurrentJob(true);\r\n                                ToastAndroid.show(\r\n                                    \"Followed!\",\r\n                                    ToastAndroid.SHORT\r\n                                );\r\n                            } else {\r\n                                console.log(\"failed!\");\r\n                            }\r\n                        });\r\n                    }\r\n                })\r\n                .finally(() => {\r\n                    fetching = false;\r\n                });\r\n        }\r\n    };\r\n\r\n    const checkFollowing = async () => {\r\n        fetching = true;\r\n        fetch(`${APIServiceURL}/checkFollowing`, {\r\n            headers: {\r\n                user_id: UserData._id,\r\n                job_id: job._id,\r\n            },\r\n        })\r\n            .then((response) => {\r\n                if (response.status === 200) {\r\n                    response.json().then((json) => {\r\n                        if (json.success) {\r\n                            setFollowingCurrentJob(true);\r\n                        } else {\r\n                            setFollowingCurrentJob(false);\r\n                        }\r\n                    });\r\n                } else {\r\n                    setFollowingCurrentJob(false);\r\n                }\r\n            })\r\n            .finally(() => {\r\n                fetching = false;\r\n            });\r\n    };\r\n\r\n    useEffect(async () => {\r\n        const User = await JobAuthor(UserToken);\r\n        if (User === job.Author) {\r\n            setShowDelButton(true);\r\n        }\r\n        checkFollowing();\r\n        navigation.setOptions({\r\n            title: decodeURIComponent(decodeURIComponent(job.Title)),\r\n            // headerLeft: null,\r\n            headerRight: () => <FollowingIconButton navigation={navigation} />,\r\n        });\r\n    });\r\n\r\n    const getJobAuthorEmailByAuthorID = async (author_id) => {\r\n        return new Promise((resolve, reject) => {\r\n            fetch(`${APIServiceURL}/getJobAuthorEmail`, {\r\n                headers: {\r\n                    author_id: author_id,\r\n                },\r\n            }).then((response) => {\r\n                if (response.status === 200) {\r\n                    response.json().then((json) => {\r\n                        if (json.success) {\r\n                            resolve(json.email);\r\n                        } else {\r\n                            reject(json.success);\r\n                        }\r\n                    });\r\n                } else {\r\n                    reject(false);\r\n                }\r\n            });\r\n        });\r\n    };\r\n\r\n    const FollowingIconButton = ({ navigation }) => {\r\n        if (followingCurrentJob) {\r\n            return (\r\n                <Ionicons\r\n                    name=\"star\"\r\n                    size={35}\r\n                    onPress={() => {\r\n                        FollowingJob();\r\n                    }}\r\n                />\r\n            );\r\n        } else {\r\n            return (\r\n                <Ionicons\r\n                    name=\"star-outline\"\r\n                    size={35}\r\n                    onPress={() => {\r\n                        FollowingJob();\r\n                    }}\r\n                />\r\n            );\r\n        }\r\n    };\r\n\r\n    //#TODO: Add Job Modification Functionality if Author is the same as the logged in user\r\n\r\n    //#DONE: Add Job follow/unfollow functionality\r\n\r\n    //#DONE: Add Button to Add Notes for current job offer\r\n\r\n    const confirmPopUp = () => {\r\n        Alert.alert(\"Deleting Job\", \"Are you sure?\", [\r\n            {\r\n                text: \"Cancel\",\r\n            },\r\n            {\r\n                text: \"I'm sure\",\r\n                onPress: () => {\r\n                    deleteJob();\r\n                },\r\n            },\r\n        ]);\r\n    };\r\n    const deleteJob = () => {\r\n        fetch(`${APIServiceURL}/deleteJob`, {\r\n            headers: {\r\n                jobid: job._id,\r\n            },\r\n        }).then((response) => {\r\n            if (response.status === 200) {\r\n                response.json().then((json) => {\r\n                    if (json.success) {\r\n                        ToastAndroid.show(\r\n                            \"Delete Success!\",\r\n                            ToastAndroid.SHORT\r\n                        );\r\n                        navigation.navigate(\"JobList\");\r\n                    } else {\r\n                        ToastAndroid.show(\"Delete Failed!\", ToastAndroid.SHORT);\r\n                    }\r\n                });\r\n            } else {\r\n                ToastAndroid.show(\"Delete Failed!\", ToastAndroid.SHORT);\r\n            }\r\n        });\r\n    };\r\n    const JobAuthor = async (UserToken) => {\r\n        return new Promise((resolve, reject) => {\r\n            fetch(`${APIServiceURL}/getUser`, {\r\n                headers: {\r\n                    usertoken: UserToken,\r\n                },\r\n            }).then((response) => {\r\n                if (response.status === 200) {\r\n                    response.json().then((json) => {\r\n                        if (json.success) {\r\n                            resolve(json.data.username);\r\n                        } else {\r\n                            reject(json.success);\r\n                        }\r\n                    });\r\n                } else {\r\n                    reject(false);\r\n                }\r\n            });\r\n        });\r\n    };\r\n\r\n    const createNewChatRoom = (targetId) => {\r\n        fetch(`${APIServiceURL}/createNewChatRoom`, {\r\n            headers: {\r\n                user_id: UserData._id,\r\n                target_id: targetId,\r\n            },\r\n        }).then((response) => {\r\n            if (response.status === 200) {\r\n                response.json().then((json) => {\r\n                    if (json.success) {\r\n                        console.log(json.insertedId);\r\n                        enterChat(json.insertedId);\r\n                    } else {\r\n                        if (json.data?._id) {\r\n                            enterChat(json.data._id);\r\n                        } else {\r\n                            ToastAndroid.show(\"Error!\", ToastAndroid.SHORT);\r\n                        }\r\n                    }\r\n                });\r\n            } else {\r\n                ToastAndroid.show(\"Create Chat Failed!\", ToastAndroid.SHORT);\r\n            }\r\n        });\r\n    };\r\n\r\n    const enterChat = (chatRoomID) => {\r\n        window.CustomVar_forwardChatRoomID = chatRoomID;\r\n        navigation.navigate(\"Chat\");\r\n    };\r\n\r\n    return (\r\n        <View style={{ backgroundColor: \"#FFFFFF\", height: \"100%\" }}>\r\n            <SafeAreaView>\r\n                <ScrollView style={{ backgroundColor: \"transparent\" }}>\r\n                    <Text\r\n                        style={{\r\n                            fontSize: 20,\r\n                            fontWeight: \"bold\",\r\n                            textAlign: \"center\",\r\n                        }}\r\n                    >\r\n                        {`${decodeURIComponent(job.Title)}`}\r\n                    </Text>\r\n                    <Text\r\n                        style={{\r\n                            fontSize: 16,\r\n                            fontWeight: \"bold\",\r\n                            textAlign: \"center\",\r\n                        }}\r\n                    >\r\n                        {`Job Provider: ${decodeURIComponent(job.Author)}`}\r\n                    </Text>\r\n                    <View\r\n                        style={{ flexDirection: \"row\", alignItems: \"center\" }}\r\n                    >\r\n                        <View\r\n                            style={{\r\n                                flex: 1,\r\n                                height: 1,\r\n                                backgroundColor: \"black\",\r\n                            }}\r\n                        />\r\n                        <View>\r\n                            <Text style={{ width: 50, textAlign: \"center\" }}>\r\n                                Details\r\n                            </Text>\r\n                        </View>\r\n                        <View\r\n                            style={{\r\n                                flex: 1,\r\n                                height: 1,\r\n                                backgroundColor: \"black\",\r\n                            }}\r\n                        />\r\n                    </View>\r\n                    <Text\r\n                        style={{\r\n                            fontSize: 26,\r\n                            fontWeight: \"bold\",\r\n                        }}\r\n                    >\r\n                        {`${decodeURIComponent(job.Details)}`}\r\n                    </Text>\r\n                    <View\r\n                        style={{ flexDirection: \"row\", alignItems: \"center\" }}\r\n                    >\r\n                        <View\r\n                            style={{\r\n                                flex: 1,\r\n                                height: 1,\r\n                                backgroundColor: \"black\",\r\n                            }}\r\n                        />\r\n                        <View>\r\n                            <Text style={{ width: 90, textAlign: \"center\" }}>\r\n                                Control Panel\r\n                            </Text>\r\n                        </View>\r\n                        <View\r\n                            style={{\r\n                                flex: 1,\r\n                                height: 1,\r\n                                backgroundColor: \"black\",\r\n                            }}\r\n                        />\r\n                    </View>\r\n                    <View style={styles.buttonView}>\r\n                        {showDelButton ? (\r\n                            <Pressable\r\n                                style={styles.delButton}\r\n                                onPress={() => {\r\n                                    confirmPopUp();\r\n                                }}\r\n                            >\r\n                                <Text style={styles.buttonText}>üóëÔ∏è</Text>\r\n                            </Pressable>\r\n                        ) : (\r\n                            <>\r\n                                <Pressable\r\n                                    onPress={async () => {\r\n                                        createNewChatRoom(job.AuthorID);\r\n                                    }}\r\n                                    style={styles.chatButton}\r\n                                >\r\n                                    <Text style={styles.buttonText}>üí¨</Text>\r\n                                </Pressable>\r\n                                <Pressable\r\n                                    onPress={async () =>\r\n                                        Linking.openURL(\r\n                                            `mailto:${await getJobAuthorEmailByAuthorID(\r\n                                                job.AuthorID\r\n                                            )}`\r\n                                        )\r\n                                    }\r\n                                    style={styles.emailButton}\r\n                                >\r\n                                    <Text style={styles.buttonText}>üìÆ</Text>\r\n                                </Pressable>\r\n                            </>\r\n                        )}\r\n\r\n                        <Pressable\r\n                            onPress={() => {\r\n                                setJob(true, job);\r\n                                navigation.navigate(\"NotesList\");\r\n                            }}\r\n                            style={styles.forwardsButton}\r\n                        >\r\n                            <Text style={styles.buttonText}>\r\n                                Forward To Notes\r\n                            </Text>\r\n                        </Pressable>\r\n                    </View>\r\n                </ScrollView>\r\n            </SafeAreaView>\r\n        </View>\r\n    );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n    center: {\r\n        flex: 1,\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n    },\r\n    button: {\r\n        margin: 5,\r\n        padding: 10,\r\n        paddingLeft: 20,\r\n        paddingRight: 20,\r\n        backgroundColor: \"#406E9F\",\r\n        borderRadius: 15,\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n    },\r\n    buttonText: {\r\n        color: \"#fff\",\r\n        fontSize: 15,\r\n        fontWeight: \"bold\",\r\n    },\r\n\r\n    delButton: {\r\n        margin: 1,\r\n        padding: 10,\r\n        paddingLeft: 20,\r\n        paddingRight: 20,\r\n        backgroundColor: \"red\",\r\n        borderRadius: 15,\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n    },\r\n    forwardsButton: {\r\n        margin: 5,\r\n        padding: 10,\r\n        paddingLeft: 20,\r\n        paddingRight: 20,\r\n        backgroundColor: \"green\",\r\n        borderRadius: 15,\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n    },\r\n    emailButton: {\r\n        margin: 5,\r\n        padding: 10,\r\n        paddingLeft: 20,\r\n        paddingRight: 20,\r\n        backgroundColor: \"purple\",\r\n        borderRadius: 15,\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n    },\r\n    chatButton: {\r\n        margin: 5,\r\n        padding: 10,\r\n        paddingLeft: 20,\r\n        paddingRight: 20,\r\n        backgroundColor: \"#2B68E6\",\r\n        borderRadius: 15,\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n    },\r\n    buttonView: {\r\n        flexDirection: \"row\",\r\n        justifyContent: \"space-around\",\r\n        alignItems: \"center\",\r\n        marginTop: 20,\r\n    },\r\n});\r\n"]},"metadata":{},"sourceType":"module"}